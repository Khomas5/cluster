{"version":3,"file":"index.js","sources":["../src/EventDragging.ts","../src/View.ts","../src/ResourceEventConfigAdder.ts","../src/structs/resource-source-def.ts","../src/structs/resource-source-parse.ts","../src/reducers/resourceSource.ts","../src/reducers/resourceStore.ts","../src/reducers/resourceEntityExpansions.ts","../src/reducers/resources.ts","../src/structs/event-parse.ts","../src/DateSelecting.ts","../src/api/CalendarApi.ts","../src/validation.ts","../src/ExternalElementDragging.ts","../src/option-change-handlers.ts","../src/options-refiners.ts","../src/api/EventApi.ts","../src/resource-sources/resource-array.ts","../src/resource-sources/resource-func.ts","../src/resource-sources/resource-json-feed.ts","../src/index.ts"],"sourcesContent":["import { EventDropArg } from '@fullcalendar/core'\nimport { EventMutation, Hit, EventDef, CalendarContext } from '@fullcalendar/core/internal'\n\nexport function massageEventDragMutation(eventMutation: EventMutation, hit0: Hit, hit1: Hit) {\n  let resource0 = hit0.dateSpan.resourceId\n  let resource1 = hit1.dateSpan.resourceId\n\n  if (\n    resource0 && resource1 &&\n    resource0 !== resource1\n  ) {\n    eventMutation.resourceMutation = {\n      matchResourceId: resource0,\n      setResourceId: resource1,\n    }\n  }\n}\n\n/*\nTODO: all this would be much easier if we were using a hash!\n*/\nexport function applyEventDefMutation(eventDef: EventDef, mutation: EventMutation, context: CalendarContext) {\n  let resourceMutation = mutation.resourceMutation\n\n  if (resourceMutation && computeResourceEditable(eventDef, context)) {\n    let index = eventDef.resourceIds.indexOf(resourceMutation.matchResourceId)\n\n    if (index !== -1) {\n      let resourceIds = eventDef.resourceIds.slice() // copy\n\n      resourceIds.splice(index, 1) // remove\n\n      if (resourceIds.indexOf(resourceMutation.setResourceId) === -1) { // not already in there\n        resourceIds.push(resourceMutation.setResourceId) // add\n      }\n\n      eventDef.resourceIds = resourceIds\n    }\n  }\n}\n\n/*\nHACK\nTODO: use EventUi system instead of this\n*/\nexport function computeResourceEditable(eventDef: EventDef, context: CalendarContext): boolean {\n  let { resourceEditable } = eventDef\n\n  if (resourceEditable == null) {\n    let source = eventDef.sourceId && context.getCurrentData().eventSources[eventDef.sourceId]\n\n    if (source) {\n      resourceEditable = source.extendedProps.resourceEditable // used the Source::extendedProps hack\n    }\n\n    if (resourceEditable == null) {\n      resourceEditable = context.options.eventResourceEditable\n\n      if (resourceEditable == null) {\n        resourceEditable = context.options.editable // TODO: use defaults system instead\n      }\n    }\n  }\n\n  return resourceEditable\n}\n\nexport function transformEventDrop(mutation: EventMutation, context: CalendarContext): Partial<EventDropArg> {\n  let { resourceMutation } = mutation\n\n  if (resourceMutation) {\n    let { calendarApi } = context\n\n    return {\n      oldResource: calendarApi.getResourceById(resourceMutation.matchResourceId),\n      newResource: calendarApi.getResourceById(resourceMutation.setResourceId),\n    }\n  }\n\n  return {\n    oldResource: null,\n    newResource: null,\n  }\n}\n","import {\n  rangesIntersect, EventInstanceHash, filterHash, ViewProps, ViewPropsTransformer, CalendarContentProps, memoize,\n  EventUi, EventDefHash, EventDef, EventStore, DateRange, CalendarContext,\n} from '@fullcalendar/core/internal'\nimport { ResourceHash } from './structs/resource.js'\nimport { ResourceEntityExpansions } from './reducers/resourceEntityExpansions.js'\nimport { computeResourceEditable } from './EventDragging.js'\n\n// for when resource views need resource data\n\nexport interface ResourceViewProps extends ViewProps {\n  resourceStore: ResourceHash\n  resourceEntityExpansions: ResourceEntityExpansions\n}\n\nexport class ResourceDataAdder implements ViewPropsTransformer {\n  filterResources = memoize(filterResources)\n\n  transform(viewProps: ViewProps, calendarProps: CalendarContentProps) {\n    if (calendarProps.viewSpec.optionDefaults.needsResourceData) {\n      return {\n        resourceStore: this.filterResources(\n          calendarProps.resourceStore,\n          calendarProps.options.filterResourcesWithEvents,\n          calendarProps.eventStore,\n          calendarProps.dateProfile.activeRange,\n        ),\n        resourceEntityExpansions: calendarProps.resourceEntityExpansions,\n      }\n    }\n    return null\n  }\n}\n\nfunction filterResources(\n  resourceStore: ResourceHash,\n  doFilterResourcesWithEvents: boolean,\n  eventStore: EventStore,\n  activeRange: DateRange,\n): ResourceHash {\n  if (doFilterResourcesWithEvents) {\n    let instancesInRange = filterEventInstancesInRange(eventStore.instances, activeRange)\n    let hasEvents = computeHasEvents(instancesInRange, eventStore.defs)\n\n    Object.assign(hasEvents, computeAncestorHasEvents(hasEvents, resourceStore))\n\n    return filterHash(resourceStore, (resource, resourceId) => hasEvents[resourceId])\n  }\n\n  return resourceStore\n}\n\nfunction filterEventInstancesInRange(eventInstances: EventInstanceHash, activeRange: DateRange) {\n  return filterHash(eventInstances, (eventInstance) => rangesIntersect(eventInstance.range, activeRange))\n}\n\nfunction computeHasEvents(eventInstances: EventInstanceHash, eventDefs: EventDefHash) {\n  let hasEvents = {}\n\n  for (let instanceId in eventInstances) {\n    let instance = eventInstances[instanceId]\n\n    for (let resourceId of eventDefs[instance.defId].resourceIds) {\n      hasEvents[resourceId] = true\n    }\n  }\n\n  return hasEvents\n}\n\n/*\nmark resources as having events if any of their ancestors have them\nNOTE: resourceStore might not have all the resources that hasEvents{} has keyed\n*/\nfunction computeAncestorHasEvents(hasEvents: { [resourceId: string]: boolean }, resourceStore: ResourceHash) {\n  let res = {}\n\n  for (let resourceId in hasEvents) {\n    let resource\n\n    while ((resource = resourceStore[resourceId])) {\n      resourceId = resource.parentId // now functioning as the parentId\n\n      if (resourceId) {\n        res[resourceId] = true\n      } else {\n        break\n      }\n    }\n  }\n\n  return res\n}\n\n/*\nfor making sure events that have editable resources are always draggable in resource views\n*/\nexport function transformIsDraggable(val: boolean, eventDef: EventDef, eventUi: EventUi, context: CalendarContext) {\n  if (!val) {\n    let state = context.getCurrentData()\n    let viewSpec = state.viewSpecs[state.currentViewType]\n\n    if (viewSpec.optionDefaults.needsResourceData) {\n      if (computeResourceEditable(eventDef, context)) {\n        return true\n      }\n    }\n  }\n\n  return val\n}\n","import {\n  ViewProps, ViewPropsTransformer, CalendarContentProps, memoize, mapHash,\n  EventUi, isPropsEqual, EventUiHash, EventDefHash, EventDef, combineEventUis,\n} from '@fullcalendar/core/internal'\nimport { ResourceHash } from './structs/resource.js'\n\n// for when non-resource view should be given EventUi info (for event coloring/constraints based off of resource data)\n\nexport class ResourceEventConfigAdder implements ViewPropsTransformer {\n  buildResourceEventUis = memoize(buildResourceEventUis, isPropsEqual)\n  injectResourceEventUis = memoize(injectResourceEventUis)\n\n  transform(viewProps: ViewProps, calendarProps: CalendarContentProps) {\n    if (!calendarProps.viewSpec.optionDefaults.needsResourceData) {\n      return {\n        eventUiBases: this.injectResourceEventUis(\n          viewProps.eventUiBases,\n          viewProps.eventStore.defs,\n          this.buildResourceEventUis(calendarProps.resourceStore),\n        ),\n      }\n    }\n    return null\n  }\n}\n\nfunction buildResourceEventUis(resourceStore: ResourceHash) {\n  return mapHash(resourceStore, (resource) => resource.ui)\n}\n\nfunction injectResourceEventUis(eventUiBases: EventUiHash, eventDefs: EventDefHash, resourceEventUis: EventUiHash) {\n  return mapHash(eventUiBases, (eventUi, defId) => {\n    if (defId) { // not the '' key\n      return injectResourceEventUi(eventUi, eventDefs[defId], resourceEventUis)\n    }\n    return eventUi\n  })\n}\n\nfunction injectResourceEventUi(origEventUi: EventUi, eventDef: EventDef, resourceEventUis: EventUiHash) {\n  let parts = []\n\n  // first resource takes precedence, which fights with the ordering of combineEventUis, thus the unshifts\n  for (let resourceId of eventDef.resourceIds) {\n    if (resourceEventUis[resourceId]) {\n      parts.unshift(resourceEventUis[resourceId])\n    }\n  }\n\n  parts.unshift(origEventUi)\n\n  return combineEventUis(parts)\n}\n","import { ResourceFetcher } from './resource-source.js'\nimport { ResourceSourceRefined } from './resource-source-parse.js'\n\nexport interface ResourceSourceDef<ResourceSourceMeta> {\n  ignoreRange?: boolean\n  parseMeta: (refined: ResourceSourceRefined) => ResourceSourceMeta | null\n  fetch: ResourceFetcher<ResourceSourceMeta>\n}\n\nlet defs: ResourceSourceDef<any>[] = [] // TODO: use plugin system\n\nexport function registerResourceSourceDef<ResourceSourceMeta>(\n  def: ResourceSourceDef<ResourceSourceMeta>,\n) {\n  defs.push(def)\n}\n\nexport function getResourceSourceDef(id: number): ResourceSourceDef<any> {\n  return defs[id]\n}\n\nexport function getResourceSourceDefs(): ResourceSourceDef<any>[] {\n  return defs\n}\n","import { guid, identity, Identity, RefinedOptionsFromRefiners, refineProps, RawOptionsFromRefiners, Dictionary } from '@fullcalendar/core/internal'\nimport { ResourceInput } from './resource.js'\nimport { ResourceFunc } from '../resource-sources/resource-func.js'\nimport { ResourceSource } from './resource-source.js'\nimport { getResourceSourceDefs } from './resource-source-def.js'\n\n// TODO: make this a plugin-able parser\n// TODO: success/failure\nexport const RESOURCE_SOURCE_REFINERS = {\n  id: String,\n\n  // for array. TODO: move to resource-array\n  resources: identity as Identity<ResourceInput[] | ResourceFunc>,\n\n  // for json feed. TODO: move to resource-json-feed\n  url: String,\n  method: String,\n  startParam: String,\n  endParam: String,\n  timeZoneParam: String,\n  extraParams: identity as Identity<Dictionary | (() => Dictionary)>,\n}\n\nexport type ResourceSourceInputObject = RawOptionsFromRefiners<typeof RESOURCE_SOURCE_REFINERS>\nexport type ResourceSourceRefined = RefinedOptionsFromRefiners<typeof RESOURCE_SOURCE_REFINERS>\n\nexport type ResourceSourceInput =\n  ResourceSourceInputObject |\n  ResourceInput[] |\n  ResourceFunc |\n  string // url\n\nexport function parseResourceSource(input: ResourceSourceInput): ResourceSource<any> {\n  let inputObj: ResourceSourceInputObject\n\n  if (typeof input === 'string') {\n    inputObj = { url: input }\n  } else if (typeof input === 'function' || Array.isArray(input)) {\n    inputObj = { resources: input }\n  } else if (typeof input === 'object' && input) { // non-null object\n    inputObj = input\n  }\n\n  if (inputObj) {\n    let { refined, extra } = refineProps(inputObj, RESOURCE_SOURCE_REFINERS)\n\n    warnUnknownProps(extra)\n\n    let metaRes = buildResourceSourceMeta(refined)\n\n    if (metaRes) {\n      return {\n        _raw: input,\n        sourceId: guid(),\n        sourceDefId: metaRes.sourceDefId,\n        meta: metaRes.meta,\n        publicId: refined.id || '',\n        isFetching: false,\n        latestFetchId: '',\n        fetchRange: null,\n      }\n    }\n  }\n\n  return null\n}\n\nfunction buildResourceSourceMeta(refined: ResourceSourceRefined) {\n  let defs = getResourceSourceDefs()\n\n  for (let i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n    let def = defs[i]\n    let meta = def.parseMeta(refined)\n\n    if (meta) {\n      return { meta, sourceDefId: i }\n    }\n  }\n\n  return null\n}\n\nfunction warnUnknownProps(props) {\n  for (let propName in props) {\n    console.warn(`Unknown resource prop '${propName}'`)\n  }\n}\n","import { DateProfile, rangesEqual, DateRange, guid, CalendarContext } from '@fullcalendar/core/internal'\nimport { ResourceSource } from '../structs/resource-source.js'\nimport { parseResourceSource } from '../structs/resource-source-parse.js'\nimport { getResourceSourceDef } from '../structs/resource-source-def.js'\nimport { ResourceAction } from './resource-action.js'\n\nexport function reduceResourceSource(\n  source: ResourceSource<any> | null,\n  action: ResourceAction | null,\n  context: CalendarContext & { dateProfile: DateProfile },\n): ResourceSource<any> {\n  let { options, dateProfile } = context\n\n  if (!source || !action) {\n    return createSource(\n      options.initialResources || options.resources,\n      dateProfile.activeRange,\n      options.refetchResourcesOnNavigate,\n      context,\n    )\n  }\n\n  switch (action.type) {\n    case 'RESET_RESOURCE_SOURCE':\n      return createSource(action.resourceSourceInput, dateProfile.activeRange, options.refetchResourcesOnNavigate, context)\n\n    case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n    case 'NEXT':\n    case 'CHANGE_DATE':\n    case 'CHANGE_VIEW_TYPE':\n      return handleRangeChange(source, dateProfile.activeRange, options.refetchResourcesOnNavigate, context)\n\n    case 'RECEIVE_RESOURCES':\n    case 'RECEIVE_RESOURCE_ERROR':\n      return receiveResponse(source, action.fetchId, action.fetchRange)\n\n    case 'REFETCH_RESOURCES':\n      return fetchSource(source, dateProfile.activeRange, context)\n\n    default:\n      return source\n  }\n}\n\nfunction createSource(input, activeRange: DateRange, refetchResourcesOnNavigate, context: CalendarContext) {\n  if (input) {\n    let source = parseResourceSource(input)\n    source = fetchSource(source, refetchResourcesOnNavigate ? activeRange : null, context)\n    return source\n  }\n\n  return null\n}\n\nfunction handleRangeChange(\n  source: ResourceSource<any>,\n  activeRange: DateRange,\n  refetchResourcesOnNavigate,\n  context: CalendarContext,\n): ResourceSource<any> {\n  if (\n    refetchResourcesOnNavigate &&\n    !doesSourceIgnoreRange(source) &&\n    (!source.fetchRange || !rangesEqual(source.fetchRange, activeRange))\n  ) {\n    return fetchSource(source, activeRange, context)\n  }\n  return source\n}\n\nfunction doesSourceIgnoreRange(source: ResourceSource<any>) {\n  return Boolean(getResourceSourceDef(source.sourceDefId).ignoreRange)\n}\n\nfunction fetchSource(source: ResourceSource<any>, fetchRange: DateRange | null, context: CalendarContext): ResourceSource<any> {\n  let sourceDef = getResourceSourceDef(source.sourceDefId)\n  let fetchId = guid()\n\n  sourceDef.fetch(\n    {\n      resourceSource: source,\n      range: fetchRange,\n      context,\n    },\n    (res) => {\n      context.dispatch({\n        type: 'RECEIVE_RESOURCES',\n        fetchId,\n        fetchRange,\n        rawResources: res.rawResources,\n      })\n    },\n    (error) => {\n      context.dispatch({\n        type: 'RECEIVE_RESOURCE_ERROR',\n        fetchId,\n        fetchRange,\n        error,\n      })\n    },\n  )\n\n  return {\n    ...source,\n    isFetching: true,\n    latestFetchId: fetchId,\n  }\n}\n\nfunction receiveResponse(source: ResourceSource<any>, fetchId: string, fetchRange: DateRange) {\n  if (fetchId === source.latestFetchId) {\n    return {\n      ...source,\n      isFetching: false,\n      fetchRange,\n    }\n  }\n\n  return source\n}\n","import { CalendarContext } from '@fullcalendar/core/internal'\nimport { ResourceAction } from './resource-action.js'\nimport { ResourceHash, ResourceInput, parseResource } from '../structs/resource.js'\nimport { ResourceSource } from '../structs/resource-source.js'\n\nexport function reduceResourceStore(\n  store: ResourceHash | null,\n  action: ResourceAction | null,\n  source: ResourceSource<any>,\n  context: CalendarContext,\n): ResourceHash {\n  if (!store || !action) {\n    return {}\n  }\n\n  switch (action.type) {\n    case 'RECEIVE_RESOURCES':\n      return receiveRawResources(store, action.rawResources, action.fetchId, source, context)\n\n    case 'ADD_RESOURCE':\n      return addResource(store, action.resourceHash)\n\n    case 'REMOVE_RESOURCE':\n      return removeResource(store, action.resourceId)\n\n    case 'SET_RESOURCE_PROP':\n      return setResourceProp(store, action.resourceId, action.propName, action.propValue)\n\n    case 'SET_RESOURCE_EXTENDED_PROP':\n      return setResourceExtendedProp(store, action.resourceId, action.propName, action.propValue)\n\n    default:\n      return store\n  }\n}\n\nfunction receiveRawResources(\n  existingStore: ResourceHash,\n  inputs: ResourceInput[],\n  fetchId: string,\n  source: ResourceSource<any>,\n  context: CalendarContext,\n): ResourceHash {\n  if (source.latestFetchId === fetchId) {\n    let nextStore: ResourceHash = {}\n\n    for (let input of inputs) {\n      parseResource(input, '', nextStore, context)\n    }\n\n    return nextStore\n  }\n\n  return existingStore\n}\n\nfunction addResource(existingStore: ResourceHash, additions: ResourceHash) {\n  // TODO: warn about duplicate IDs\n\n  return { ...existingStore, ...additions }\n}\n\nfunction removeResource(existingStore: ResourceHash, resourceId: string) {\n  let newStore = { ...existingStore } as ResourceHash\n\n  delete newStore[resourceId]\n\n  // promote children\n  for (let childResourceId in newStore) { // a child, *maybe* but probably not\n    if (newStore[childResourceId].parentId === resourceId) {\n      newStore[childResourceId] = {\n        ...newStore[childResourceId],\n        parentId: '',\n      }\n    }\n  }\n\n  return newStore\n}\n\nfunction setResourceProp(existingStore: ResourceHash, resourceId: string, name: string, value: any): ResourceHash {\n  let existingResource = existingStore[resourceId]\n\n  // TODO: sanitization\n\n  if (existingResource) {\n    return {\n      ...existingStore,\n      [resourceId]: {\n        ...existingResource,\n        [name]: value,\n      },\n    }\n  }\n\n  return existingStore\n}\n\nfunction setResourceExtendedProp(existingStore: ResourceHash, resourceId: string, name: string, value: any): ResourceHash {\n  let existingResource = existingStore[resourceId]\n\n  if (existingResource) {\n    return {\n      ...existingStore,\n      [resourceId]: {\n        ...existingResource,\n        extendedProps: {\n          ...existingResource.extendedProps,\n          [name]: value,\n        },\n      },\n    }\n  }\n\n  return existingStore\n}\n","import { ResourceAction } from './resource-action.js'\n\nexport type ResourceEntityExpansions = { [id: string]: boolean }\n\nexport function reduceResourceEntityExpansions(\n  expansions: ResourceEntityExpansions | null,\n  action: ResourceAction | null,\n): ResourceEntityExpansions {\n  if (!expansions || !action) {\n    return {}\n  }\n\n  switch (action.type) {\n    case 'SET_RESOURCE_ENTITY_EXPANDED':\n      return {\n        ...expansions,\n        [action.id]: action.isExpanded,\n      }\n\n    default:\n      return expansions\n  }\n}\n","import { CalendarContext, DateProfile } from '@fullcalendar/core/internal'\nimport { ResourceSource } from '../structs/resource-source.js'\nimport { ResourceHash } from '../structs/resource.js'\nimport { reduceResourceSource } from './resourceSource.js'\nimport { reduceResourceStore } from './resourceStore.js'\nimport { reduceResourceEntityExpansions, ResourceEntityExpansions } from './resourceEntityExpansions.js'\nimport { ResourceAction } from './resource-action.js'\n\nexport interface ResourceState {\n  resourceSource: ResourceSource<any>\n  resourceStore: ResourceHash\n  resourceEntityExpansions: ResourceEntityExpansions\n}\n\nexport function reduceResources(\n  state: ResourceState | null,\n  action: ResourceAction | null,\n  context: CalendarContext & { dateProfile: DateProfile },\n) {\n  let resourceSource = reduceResourceSource(state && state.resourceSource, action, context)\n  let resourceStore = reduceResourceStore(state && state.resourceStore, action, resourceSource, context)\n  let resourceEntityExpansions = reduceResourceEntityExpansions(state && state.resourceEntityExpansions, action)\n\n  return {\n    resourceSource,\n    resourceStore,\n    resourceEntityExpansions,\n  }\n}\n","import { EventRefined, identity, Identity } from '@fullcalendar/core/internal'\n\nexport const EVENT_REFINERS = {\n  resourceId: String,\n  resourceIds: identity as Identity<string[]>,\n  resourceEditable: Boolean,\n}\n\nexport function generateEventDefResourceMembers(refined: EventRefined) {\n  return {\n    resourceIds: ensureStringArray(refined.resourceIds)\n      .concat(refined.resourceId ? [refined.resourceId] : []),\n    resourceEditable: refined.resourceEditable,\n  }\n}\n\nfunction ensureStringArray(items: any[]) {\n  return (items || []).map((item) => String(item))\n}\n","import { Hit } from '@fullcalendar/core/internal'\n\nexport function transformDateSelectionJoin(hit0: Hit, hit1: Hit) {\n  let resourceId0 = hit0.dateSpan.resourceId\n  let resourceId1 = hit1.dateSpan.resourceId\n\n  if (resourceId0 && resourceId1) {\n    return { resourceId: resourceId0 }\n  }\n\n  return null\n}\n","import { CalendarImpl, DateSpan, CalendarContext } from '@fullcalendar/core/internal'\nimport { ResourceApi } from './ResourceApi.js'\nimport { ResourceInput, parseResource, ResourceHash, Resource } from '../structs/resource.js'\nimport { ResourceAction } from '../reducers/resource-action.js'\n\ndeclare module '@fullcalendar/core' {\n  interface CalendarApi {\n    addResource(input: ResourceInput, scrollTo?: boolean): ResourceApi\n    getResourceById(id: string): ResourceApi | null\n    getResources(): ResourceApi[]\n    getTopLevelResources(): ResourceApi[]\n    refetchResources(): void\n  }\n}\n\n// TODO: more DRY\ndeclare module '@fullcalendar/core/internal' {\n  interface CalendarImpl {\n    dispatch(action: ResourceAction) // internal-only\n    addResource(input: ResourceInput, scrollTo?: boolean): ResourceApi\n    getResourceById(id: string): ResourceApi | null\n    getResources(): ResourceApi[]\n    getTopLevelResources(): ResourceApi[]\n    refetchResources(): void\n  }\n}\n\nCalendarImpl.prototype.addResource = function ( // eslint-disable-line func-names\n  this: CalendarImpl,\n  input: ResourceInput | ResourceApi,\n  scrollTo = true,\n) {\n  let currentState = this.getCurrentData()\n  let resourceHash: ResourceHash\n  let resource: Resource\n\n  if (input instanceof ResourceApi) {\n    resource = input._resource\n    resourceHash = { [resource.id]: resource }\n  } else {\n    resourceHash = {}\n    resource = parseResource(input, '', resourceHash, currentState)\n  }\n\n  this.dispatch({\n    type: 'ADD_RESOURCE',\n    resourceHash,\n  })\n\n  if (scrollTo) {\n    // TODO: wait til dispatch completes somehow\n    this.trigger('_scrollRequest', { resourceId: resource.id })\n  }\n\n  let resourceApi = new ResourceApi(currentState, resource)\n\n  currentState.emitter.trigger('resourceAdd', {\n    resource: resourceApi,\n    revert: () => {\n      this.dispatch({\n        type: 'REMOVE_RESOURCE',\n        resourceId: resource.id,\n      })\n    },\n  })\n\n  return resourceApi\n}\n\nCalendarImpl.prototype.getResourceById = function (this: CalendarImpl, id: string) { // eslint-disable-line func-names\n  id = String(id)\n  let currentState = this.getCurrentData() // eslint-disable-line react/no-this-in-sfc\n\n  if (currentState.resourceStore) { // guard against calendar with no resource functionality\n    let rawResource = currentState.resourceStore[id]\n\n    if (rawResource) {\n      return new ResourceApi(currentState, rawResource)\n    }\n  }\n\n  return null\n}\n\nCalendarImpl.prototype.getResources = function (this: CalendarImpl): ResourceApi[] { // eslint-disable-line func-names\n  let currentState = this.getCurrentData()\n  let { resourceStore } = currentState\n  let resourceApis: ResourceApi[] = []\n\n  if (resourceStore) { // guard against calendar with no resource functionality\n    for (let resourceId in resourceStore) {\n      resourceApis.push(\n        new ResourceApi(currentState, resourceStore[resourceId]),\n      )\n    }\n  }\n\n  return resourceApis\n}\n\nCalendarImpl.prototype.getTopLevelResources = function (this: CalendarImpl): ResourceApi[] { // eslint-disable-line func-names\n  let currentState = this.getCurrentData()\n  let { resourceStore } = currentState\n  let resourceApis: ResourceApi[] = []\n\n  if (resourceStore) { // guard against calendar with no resource functionality\n    for (let resourceId in resourceStore) {\n      if (!resourceStore[resourceId].parentId) {\n        resourceApis.push(\n          new ResourceApi(currentState, resourceStore[resourceId]),\n        )\n      }\n    }\n  }\n\n  return resourceApis\n}\n\nCalendarImpl.prototype.refetchResources = function (this: CalendarImpl) { // eslint-disable-line func-names\n  this.dispatch({\n    type: 'REFETCH_RESOURCES',\n  })\n}\n\nexport function transformDatePoint(dateSpan: DateSpan, context: CalendarContext) {\n  return dateSpan.resourceId ?\n    { resource: context.calendarApi.getResourceById(dateSpan.resourceId) } :\n    {}\n}\n\nexport function transformDateSpan(dateSpan: DateSpan, context: CalendarContext) {\n  return dateSpan.resourceId ?\n    { resource: context.calendarApi.getResourceById(dateSpan.resourceId) } :\n    {}\n}\n","import { SplittableProps, EventUi, isPropsValid, Constraint, EventStore, mergeEventStores, CalendarContext } from '@fullcalendar/core/internal'\nimport { ResourceSplitter } from './common/ResourceSplitter.js'\n\nexport function isPropsValidWithResources(combinedProps: SplittableProps, context: CalendarContext): boolean {\n  let splitter = new ResourceSplitter()\n\n  let sets = splitter.splitProps({\n    ...combinedProps,\n    resourceStore: context.getCurrentData().resourceStore,\n  })\n\n  for (let resourceId in sets) {\n    let props = sets[resourceId]\n\n    // merge in event data from the non-resource segment\n    if (resourceId && sets['']) { // current segment is not the non-resource one, and there IS a non-resource one\n      props = {\n        ...props,\n        eventStore: mergeEventStores(sets[''].eventStore, props.eventStore),\n        eventUiBases: { ...sets[''].eventUiBases, ...props.eventUiBases },\n      }\n    }\n\n    if (!isPropsValid(props, context, { resourceId }, filterConfig.bind(null, resourceId))) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction filterConfig(resourceId, config: EventUi) {\n  return {\n    ...config,\n    constraints: filterConstraints(resourceId, config.constraints),\n  }\n}\n\nfunction filterConstraints(resourceId: string, constraints: Constraint[]) {\n  return constraints.map((constraint) => {\n    let defs = (constraint as EventStore).defs\n    if (defs) { // we are dealing with an EventStore\n      // if any of the events define constraints to resources that are NOT this resource,\n      // then this resource is unconditionally prohibited, which is what a `false` value does.\n      for (let defId in defs) {\n        let resourceIds = defs[defId].resourceIds\n        if (resourceIds.length && resourceIds.indexOf(resourceId) === -1) { // TODO: use a hash?!!! (for other reasons too)\n          return false\n        }\n      }\n    }\n\n    return constraint\n  })\n}\n","import { DateSpan } from '@fullcalendar/core/internal'\n\nexport function transformExternalDef(dateSpan: DateSpan) {\n  return dateSpan.resourceId ?\n    { resourceId: dateSpan.resourceId } :\n    {}\n}\n","import { CalendarContext } from '@fullcalendar/core/internal'\n\nexport const optionChangeHandlers = {\n  resources: handleResources,\n}\n\nfunction handleResources(newSourceInput, context: CalendarContext) {\n  let oldSourceInput = context.getCurrentData().resourceSource._raw\n\n  if (oldSourceInput !== newSourceInput) {\n    context.dispatch({\n      type: 'RESET_RESOURCE_SOURCE',\n      resourceSourceInput: newSourceInput,\n    })\n  }\n}\n","import { ClassNamesGenerator, CssDimValue } from '@fullcalendar/core'\nimport {\n  Identity, identity, parseFieldSpecs,\n  CustomContentGenerator, DidMountHandler, WillUnmountHandler,\n} from '@fullcalendar/core/internal'\nimport {\n  ResourceSourceInput,\n  ResourceLabelContentArg, ResourceLabelMountArg,\n  ColSpec,\n  ColHeaderContentArg, ColHeaderMountArg,\n  ColCellContentArg, ColCellMountArg,\n  ResourceLaneContentArg, ResourceLaneMountArg,\n  ResourceApi,\n  ResourceAddArg, ResourceChangeArg, ResourceRemoveArg,\n} from './public-types.js'\n\nexport const OPTION_REFINERS = {\n  initialResources: identity as Identity<ResourceSourceInput>,\n  resources: identity as Identity<ResourceSourceInput>,\n\n  eventResourceEditable: Boolean,\n  refetchResourcesOnNavigate: Boolean,\n  resourceOrder: parseFieldSpecs,\n  filterResourcesWithEvents: Boolean,\n  resourceGroupField: String,\n  resourceAreaWidth: identity as Identity<CssDimValue>,\n  resourceAreaColumns: identity as Identity<ColSpec[]>,\n  resourcesInitiallyExpanded: Boolean,\n  datesAboveResources: Boolean,\n  needsResourceData: Boolean, // internal-only\n\n  resourceAreaHeaderClassNames: identity as Identity<ClassNamesGenerator<ColHeaderContentArg>>,\n  resourceAreaHeaderContent: identity as Identity<CustomContentGenerator<ColHeaderContentArg>>,\n  resourceAreaHeaderDidMount: identity as Identity<DidMountHandler<ColHeaderMountArg>>,\n  resourceAreaHeaderWillUnmount: identity as Identity<WillUnmountHandler<ColHeaderMountArg>>,\n\n  resourceGroupLabelClassNames: identity as Identity<ClassNamesGenerator<ColCellContentArg>>,\n  resourceGroupLabelContent: identity as Identity<CustomContentGenerator<ColCellContentArg>>,\n  resourceGroupLabelDidMount: identity as Identity<DidMountHandler<ColCellMountArg>>,\n  resourceGroupLabelWillUnmount: identity as Identity<WillUnmountHandler<ColCellMountArg>>,\n\n  resourceLabelClassNames: identity as Identity<ClassNamesGenerator<ResourceLabelContentArg>>,\n  resourceLabelContent: identity as Identity<CustomContentGenerator<ResourceLabelContentArg>>,\n  resourceLabelDidMount: identity as Identity<DidMountHandler<ResourceLabelMountArg>>,\n  resourceLabelWillUnmount: identity as Identity<WillUnmountHandler<ResourceLabelMountArg>>,\n\n  resourceLaneClassNames: identity as Identity<ClassNamesGenerator<ResourceLaneContentArg>>,\n  resourceLaneContent: identity as Identity<CustomContentGenerator<ResourceLaneContentArg>>,\n  resourceLaneDidMount: identity as Identity<DidMountHandler<ResourceLaneMountArg>>,\n  resourceLaneWillUnmount: identity as Identity<WillUnmountHandler<ResourceLaneMountArg>>,\n\n  resourceGroupLaneClassNames: identity as Identity<ClassNamesGenerator<ColCellContentArg>>,\n  resourceGroupLaneContent: identity as Identity<CustomContentGenerator<ColCellContentArg>>,\n  resourceGroupLaneDidMount: identity as Identity<DidMountHandler<ColCellMountArg>>,\n  resourceGroupLaneWillUnmount: identity as Identity<WillUnmountHandler<ColCellMountArg>>,\n}\n\nexport const LISTENER_REFINERS = {\n  resourcesSet: identity as Identity<(resources: ResourceApi[]) => void>,\n  resourceAdd: identity as Identity<(arg: ResourceAddArg) => void>,\n  resourceChange: identity as Identity<(arg: ResourceChangeArg) => void>,\n  resourceRemove: identity as Identity<(arg: ResourceRemoveArg) => void>,\n}\n","import { EventImpl } from '@fullcalendar/core/internal'\nimport { ResourceApi } from './ResourceApi.js'\n\ndeclare module '@fullcalendar/core' {\n  interface EventApi {\n    getResources: () => ResourceApi[]\n    setResources: (resources: (string | ResourceApi)[]) => void\n  }\n}\n\n// TODO: more DRY\ndeclare module '@fullcalendar/core/internal' {\n  interface EventImpl {\n    getResources: () => ResourceApi[]\n    setResources: (resources: (string | ResourceApi)[]) => void\n  }\n}\n\nEventImpl.prototype.getResources = function (this: EventImpl): ResourceApi[] { // eslint-disable-line func-names\n  let { calendarApi } = this._context\n\n  return this._def.resourceIds.map((resourceId) => calendarApi.getResourceById(resourceId))\n}\n\nEventImpl.prototype.setResources = function ( // eslint-disable-line func-names\n  this: EventImpl,\n  resources: (string | ResourceApi)[],\n) {\n  let resourceIds = []\n\n  // massage resources -> resourceIds\n  for (let resource of resources) {\n    let resourceId = null\n\n    if (typeof resource === 'string') {\n      resourceId = resource\n    } else if (typeof resource === 'number') {\n      resourceId = String(resource)\n    } else if (resource instanceof ResourceApi) {\n      resourceId = resource.id // guaranteed to always have an ID. hmmm\n    } else {\n      console.warn('unknown resource type: ' + resource)\n    }\n\n    if (resourceId) {\n      resourceIds.push(resourceId)\n    }\n  }\n\n  this.mutate({\n    standardProps: {\n      resourceIds,\n    },\n  })\n}\n","import { registerResourceSourceDef } from '../structs/resource-source-def.js'\nimport { ResourceInput } from '../structs/resource.js'\nimport { ResourceSourceRefined } from '../structs/resource-source-parse.js'\n\nregisterResourceSourceDef<ResourceInput[]>({\n\n  ignoreRange: true,\n\n  parseMeta(refined: ResourceSourceRefined) {\n    if (Array.isArray(refined.resources)) {\n      return refined.resources\n    }\n    return null\n  },\n\n  fetch(arg, successCallback) {\n    successCallback({\n      rawResources: arg.resourceSource.meta,\n    })\n  },\n\n})\n","import { unpromisify } from '@fullcalendar/core/internal'\nimport { registerResourceSourceDef } from '../structs/resource-source-def.js'\nimport { ResourceInput } from '../structs/resource.js'\nimport { ResourceSourceRefined } from '../structs/resource-source-parse.js'\n\nexport interface ResourceFuncArg {\n  start?: Date\n  end?: Date\n  startStr?: string\n  endStr?: string\n  timeZone?: string\n}\n\nexport type ResourceFunc =\n  ((\n    arg: ResourceFuncArg,\n    successCallback: (resourceInputs: ResourceInput[]) => void,\n    failureCallback: (error: Error) => void,\n  ) => void) |\n  ((arg: ResourceFuncArg) => Promise<ResourceInput[]>)\n\nregisterResourceSourceDef<ResourceFunc>({\n\n  parseMeta(refined: ResourceSourceRefined) {\n    if (typeof refined.resources === 'function') {\n      return refined.resources\n    }\n    return null\n  },\n\n  fetch(arg, successCallback, errorCallback) {\n    const dateEnv = arg.context.dateEnv\n    const func = arg.resourceSource.meta\n\n    const publicArg: ResourceFuncArg = arg.range ? {\n      start: dateEnv.toDate(arg.range.start),\n      end: dateEnv.toDate(arg.range.end),\n      startStr: dateEnv.formatIso(arg.range.start),\n      endStr: dateEnv.formatIso(arg.range.end),\n      timeZone: dateEnv.timeZone,\n    } : {}\n\n    unpromisify(\n      func.bind(null, publicArg),\n      (rawResources) => successCallback({ rawResources }),\n      errorCallback,\n    )\n  },\n\n})\n","import { DateRange, CalendarContext, requestJson, Dictionary } from '@fullcalendar/core/internal'\nimport { ResourceInput } from '../public-types.js'\nimport { registerResourceSourceDef } from '../structs/resource-source-def.js'\nimport { ResourceSourceRefined } from '../structs/resource-source-parse.js'\n\ninterface JsonFeedMeta {\n  url: string\n  method: string\n  startParam?: string\n  endParam?: string\n  timeZoneParam?: string\n  extraParams?: Dictionary | (() => Dictionary)\n}\n\nregisterResourceSourceDef<JsonFeedMeta>({\n\n  parseMeta(refined: ResourceSourceRefined) {\n    if (refined.url) {\n      return {\n        url: refined.url,\n        method: (refined.method || 'GET').toUpperCase(),\n        extraParams: refined.extraParams,\n      }\n    }\n    return null\n  },\n\n  fetch(arg, successCallback, errorCallback) {\n    const meta = arg.resourceSource.meta\n    const requestParams = buildRequestParams(meta, arg.range, arg.context)\n\n    requestJson(\n      meta.method,\n      meta.url,\n      requestParams,\n    ).then(\n      ([rawResources, response]: [ResourceInput[], Response]) => {\n        successCallback({ rawResources, response })\n      },\n      errorCallback,\n    )\n  },\n\n})\n\n// TODO: somehow consolidate with event json feed\nfunction buildRequestParams(meta: JsonFeedMeta, range: DateRange | null, context: CalendarContext) {\n  let { dateEnv, options } = context\n  let startParam\n  let endParam\n  let timeZoneParam\n  let customRequestParams\n  let params = {}\n\n  if (range) {\n    startParam = meta.startParam\n    if (startParam == null) {\n      startParam = options.startParam\n    }\n\n    endParam = meta.endParam\n    if (endParam == null) {\n      endParam = options.endParam\n    }\n\n    timeZoneParam = meta.timeZoneParam\n    if (timeZoneParam == null) {\n      timeZoneParam = options.timeZoneParam\n    }\n\n    params[startParam] = dateEnv.formatIso(range.start)\n    params[endParam] = dateEnv.formatIso(range.end)\n\n    if (dateEnv.timeZone !== 'local') {\n      params[timeZoneParam] = dateEnv.timeZone\n    }\n  }\n\n  // retrieve any outbound GET/POST data from the options\n  if (typeof meta.extraParams === 'function') {\n    // supplied as a function that returns a key/value object\n    customRequestParams = meta.extraParams()\n  } else {\n    // probably supplied as a straight key/value object\n    customRequestParams = meta.extraParams || {}\n  }\n\n  Object.assign(params, customRequestParams)\n\n  return params\n}\n","import { createPlugin, PluginDef } from '@fullcalendar/core'\nimport premiumCommonPlugin from '@fullcalendar/premium-common'\nimport { ResourceDataAdder, transformIsDraggable } from './View.js'\nimport { ResourceEventConfigAdder } from './ResourceEventConfigAdder.js'\nimport { reduceResources, ResourceState } from './reducers/resources.js'\nimport { generateEventDefResourceMembers, EVENT_REFINERS } from './structs/event-parse.js'\nimport { massageEventDragMutation, applyEventDefMutation, transformEventDrop } from './EventDragging.js'\nimport { transformDateSelectionJoin } from './DateSelecting.js'\nimport { transformDatePoint, transformDateSpan } from './api/CalendarApi.js'\nimport { isPropsValidWithResources } from './validation.js'\nimport { transformExternalDef } from './ExternalElementDragging.js'\nimport { optionChangeHandlers } from './option-change-handlers.js'\nimport { handleResourceStore } from './resources-crud.js'\nimport { OPTION_REFINERS, LISTENER_REFINERS } from './options-refiners.js'\nimport './ambient.js'\nimport './api/EventApi.js'\nimport './api/CalendarApi.js'\n\n// TODO: plugin-ify\nimport './resource-sources/resource-array.js'\nimport './resource-sources/resource-func.js'\nimport './resource-sources/resource-json-feed.js'\n\nexport default createPlugin({\n  name: '<%= pkgName %>',\n  premiumReleaseDate: '<%= releaseDate %>',\n  deps: [premiumCommonPlugin],\n  reducers: [reduceResources],\n  isLoadingFuncs: [\n    (state: ResourceState) => state.resourceSource && state.resourceSource.isFetching,\n  ],\n  eventRefiners: EVENT_REFINERS,\n  eventDefMemberAdders: [generateEventDefResourceMembers],\n  isDraggableTransformers: [transformIsDraggable],\n  eventDragMutationMassagers: [massageEventDragMutation],\n  eventDefMutationAppliers: [applyEventDefMutation],\n  dateSelectionTransformers: [transformDateSelectionJoin],\n  datePointTransforms: [transformDatePoint],\n  dateSpanTransforms: [transformDateSpan],\n  viewPropsTransformers: [ResourceDataAdder, ResourceEventConfigAdder],\n  isPropsValid: isPropsValidWithResources,\n  externalDefTransforms: [transformExternalDef],\n  eventDropTransformers: [transformEventDrop],\n  optionChangeHandlers,\n  optionRefiners: OPTION_REFINERS,\n  listenerRefiners: LISTENER_REFINERS,\n  propSetHandlers: { resourceStore: handleResourceStore },\n}) as PluginDef\n\nexport * from './public-types.js'\nexport { ResourceApi } from './api/ResourceApi.js'\nexport { ResourceLaneContentArg, ResourceLaneContentArgInput } from './render-hooks.js'\nexport {\n  ColCellContentArg,\n  ColCellMountArg,\n  ColHeaderContentArg,\n  ColHeaderMountArg,\n  ColHeaderRenderHooks,\n  GroupLaneRenderHooks,\n} from './common/resource-spec.js'\n"],"names":[],"mappings":"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"}